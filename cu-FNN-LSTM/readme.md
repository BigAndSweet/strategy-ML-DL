# cu: Logistic回归, SVM, RF, FNN & LSTM
利用2008年至2017年的**铜期货cu**的行情数据，构建了**14**个特征，利用前馈网络和长短期记忆模型作预测

## **一、特征**

#### **（一）市场情绪**

（1）$振荡程度 = \frac {最高价 - 最低价} {开盘价} $

（2）$回撤程度 = \frac {最高价 - 收盘价} {开盘价} $

（3）$反弹程度 = \frac {收盘价 - 最低价} {开盘价} ​$

（4）$日实现收益率 = \frac {收盘价 - 开盘价} {开盘价} $

（5）$开盘缺口= \frac {开盘价 - 前一日收盘价} {前一日收盘价} $

（6）$成交量变化= \frac {当日成交量 - 前一日成交量} {前一日成交量} $

（7）$持仓量变化= \frac {当日持仓量 - 前一日持仓量} {前一日持仓量} $

#### **（二）波动类**

（1）$市场效率= \frac {前N日价格变化的位移} {前N日价格变化的路程} =\frac{|P_N -P_0|}{\sum_{t=0}^{t=N}{|P_{t+1} - P_{t}|} }​$

此处的市场效率是Kaufman提出的，N通常取为10或20，市场效率指标反映了价格变化的噪音和趋势的强弱，该值越接近于1，表明，市场在较小的波动中就实现了较大的涨幅或跌幅，说明趋势越强。

（2）$波动率=\sqrt{12}\sum_{t=1}^{t=22}\frac{1}{21}{(r_t - \bar r)}^{2}$

（3）$偏度 = \frac{1}{T-1}\sum_{t=1}^{T} \frac {{(r_t - \bar r)}^{3}} {\sigma^{3}}$

#### **（三）趋势突破系统**

（1）$向上突破程度 = \frac{当日最高价}{最近20个交易日的日最高价}​$

（2）$向下突破程度 = \frac{当日最最低价}{最近20个交易日的日最低价}​$

来源于海龟交易系统

#### **（四）动量**

（1）$周收益率$

（2）$一个月动量$

## **二、数据处理**

1. 标准化，**训练时剔除收益率过小的样本**，

2. 参数优化：**交叉验证**，**网格搜索**，**随机搜索**

3. 神经网络中防止过拟合的方法：

   （1）**使用更多的训练数据**

   （2）**减小网络容量**

   （3）**权重正则化**

   （4）**dropout**

## **三、算法**

（1）**Logistic回归**

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_lr.png)

（2）**支持向量机**

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_svc.png)

（3）**随机森林**

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_rf.png)

（4）**FNN**

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_fnn.png)

（5）**LSTM**

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_lstm(classification).png)

![](https://github.com/Jensenberg/-FNN-LSTM-/blob/master/nav_lstm(regression).png)

（6）**支持向量机在其他品种的运用**

| 品种 | 特征数量 | 最长回撤期 | 最大回撤 | 年化收益率 | Calmar比率 | 夏普比率|胜率 |
| :----: | ------: | -------: | --------: | ----------: | ----------: | ----: |---:|
| 棕榈油|14|58|3.92%|21.22%|5.42|     1.84 |0.57|
|聚乙烯|14|69|5.47%|28.84%|5.27|1.63|0.48|
|豆油|14|141|8.46%|24.92%|2.95|1.16|0.53|
|锌|14|81|9.03%|23.45%|2.60|1.20|0.51|
|黄金|13|81|8.23%|16.54%|2.01|1.06|0.53|
|棉花一号|14|144|9.67%|19.22%|1.99|0.84|0.53|
|豆粕|13|157|8.25%|15.80%|1.92|0.98|0.53|
|铝|13|93|8.64%|16.22%|1.88|0.74|0.50|
|PTA|14|129|4.06%|6.35%|1.56|0.55|0.48|
|天然橡胶|14|194|12.09%|9.66%|0.80|0.52|0.48|




